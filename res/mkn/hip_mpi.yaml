property:
  cxx_flags: >-
    --std=c++20 -fsized-deallocation -fPIC
    -DPHARE_HAVE_MKN_GPU=1
    -DPHARE_FORCE_LOG_LINE

local:
  repo: /mkn/r
  mod-repo: /mkn/m
remote:
  repo: git@github.com:mkn/
  mod-repo: git@github.com:mkn-mod/
env: |
  PATH=/opt/mpi/rocm/bin:/opt/rocm/bin:${PATH}
  OMPI_CXX=hipcc
compiler:
  mask:
    g++:
      mpicxx
file:
  - type: cpp:cxx:cc:c:S
    archiver: ar -cr
    compiler:  mpicxx ${cxx_flags}
    linker:  mpicxx  --std=c++20 -fuse-ld=mold
