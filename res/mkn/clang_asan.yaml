property:
  cxx_flags: -std=c++20 -fsanitize=address -fno-omit-frame-pointer
local:
  repo: /mkn/r
  mod-repo: /mkn/m
remote:
  repo: git@github.com:mkn/
  mod-repo: git@github.com:mkn-mod/
path: |
  /usr/lib/clang/19/lib/x86_64-redhat-linux-gnu

#/usr/lib/clang/18/lib/x86_64-redhat-linux-gnu
env: | # replace with $(clang++ -print-file-name=libclang_rt.asan-x86_64.so)
  MKN_LD_PRELOAD=/usr/lib/clang/19/lib/x86_64-redhat-linux-gnu/libclang_rt.asan.so
  ASAN_OPTIONS=detect_leaks=0
  OMPI_MCA_memory=^patcher

# compiler:
#   mask:
#     clang++:
#       clang++-
file:
  - type: cpp:cxx:cc:c:S
    archiver: ar -cr
    compiler: ccache clang++ ${cxx_flags}
    linker: clang++ -Bmold -lclang_rt.asan
